<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>湖癔科技 - 全平台举报维权通知生成系统</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", "SimSun", sans-serif;
        }
        body {
            background-color: #f5f5f5;
            padding: 1rem;
            font-size: 14px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .header {
            text-align: center;
            padding: 0.8rem 0;
            border-bottom: 2px solid #e53e3e;
        }
        .header h1 {
            color: #222;
            font-size: 1.5rem;
            margin-bottom: 0.3rem;
        }
        .header p {
            color: #666;
            font-size: 0.9rem;
        }
        .content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        @media (min-width: 992px) {
            .content {
                flex-direction: row;
            }
            .form-panel {
                width: 33%;
            }
            .result-panel {
                width: 67%;
            }
        }
        .panel {
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 1.2rem;
            box-shadow: 0 1px 5px rgba(0,0,0,0.06);
        }
        .form-group {
            margin-bottom: 1rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.4rem;
            color: #333;
            font-weight: 600;
            font-size: 0.95rem;
        }
        .form-group select,
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.95rem;
            color: #333;
            outline: none;
        }
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        .form-group select:focus,
        .form-group input:focus,
        .form-group textarea:focus {
            border-color: #e53e3e;
            box-shadow: 0 0 0 2px rgba(229, 62, 62, 0.15);
        }
        .btn {
            width: 100%;
            padding: 0.9rem;
            background-color: #e53e3e;
            color: #fff;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .btn:hover {
            background-color: #c53030;
        }
        .btn-clear {
            background-color: #718096;
            margin-top: 0.8rem;
        }
        .btn-clear:hover {
            background-color: #4a5568;
        }
        .btn-edit {
            background-color: #48bb78;
            margin-top: 0.8rem;
        }
        .btn-edit:hover {
            background-color: #38a169;
        }
        .btn-save {
            background-color: #f6ad55;
            margin-top: 0.8rem;
        }
        .btn-save:hover {
            background-color: #ed8936;
        }
        .btn-preview {
            background-color: #9f7aea;
            margin-top: 0.8rem;
        }
        .btn-preview:hover {
            background-color: #805ad5;
        }
        .btn-collect {
            background-color: #38b2ac;
            margin-top: 0.8rem;
        }
        .btn-collect:hover {
            background-color: #319795;
        }
        .result-header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.2rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid #f0f0f0;
        }
        .result-header h2 {
            color: #222;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .result-actions {
            display: flex;
            gap: 0.8rem;
        }
        /* 核心修改：缩小按钮尺寸 */
        .action-btn {
            padding: 0.3rem 0.8rem; /* 原：0.5rem 1rem，缩小内边距 */
            border: 1px solid #ccc;
            border-radius: 4px;
            background: #fff;
            color: #333;
            cursor: pointer;
            font-size: 0.8rem; /* 原：0.9rem，缩小字体 */
            transition: all 0.3s;
            white-space: nowrap; /* 防止文字换行 */
        }
        .action-btn:hover {
            background-color: #f5f5f5;
            border-color: #e53e3e;
            color: #e53e3e;
        }
        .notice-content {
            line-height: 2.1;
            color: #333;
            font-size: 1.05rem;
            white-space: pre-line;
            padding: 1.5rem;
            border: 1px dashed #e0e0e0;
            background-color: #fdfdfd;
            border-radius: 4px;
            font-family: "SimSun", serif;
            max-height: 600px;
            overflow-y: auto;
        }
        .notice-content[contenteditable="true"] {
            border-color: #48bb78;
            background-color: #f8fff8;
            outline: none;
        }
        .footer {
            text-align: center;
            color: #666;
            font-size: 0.85rem;
            margin-top: 1.5rem;
            padding: 1rem 0;
            border-top: 1px solid #e0e0e0;
        }
        .scene-tip {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.3rem;
            font-style: italic;
        }
        .divider {
            height: 1px;
            background-color: #f0f0f0;
            margin: 1rem 0;
        }
        .storage-tip {
            text-align: center;
            color: #666;
            font-size: 0.85rem;
            margin: 0.5rem 0;
            color: #e53e3e;
        }
        .field-desc {
            font-size: 0.8rem;
            color: #888;
            margin-top: 0.2rem;
        }
        .tag-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .tag {
            padding: 0.3rem 0.6rem;
            background-color: #f5f5f5;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tag:hover {
            border-color: #e53e3e;
        }
        .tag.active {
            background-color: #e53e3e;
            color: #fff;
            border-color: #e53e3e;
        }
        .export-select {
            padding: 0.3rem; /* 同步缩小下拉框内边距 */
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 0.5rem;
            font-size: 0.8rem; /* 同步缩小下拉框字体 */
        }
        /* 手机端适配 */
        @media (max-width: 767px) {
            .result-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .result-actions {
                width: 100%;
                justify-content: space-between;
            }
            .action-btn {
                flex: 1;
                text-align: center;
                padding: 0.3rem 0.2rem; /* 手机端进一步缩小内边距 */
                font-size: 0.75rem; /* 手机端缩小字体 */
            }
            .notice-content {
                max-height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>湖癔科技 - 全平台举报维权通知生成系统</h1>
            <p>覆盖快手/QQ/微信全场景（账号/私信/短视频），支持15+违规类型多选，点击必出结果</p>
        </div>
        <div class="content">
            <!-- 表单面板 -->
            <div class="form-panel">
                <div class="panel">
                    <form id="reportForm">
                        <div class="form-group">
                            <label for="reportScene">举报维权场景</label>
                            <select id="reportScene" required>
                                <option value="">请选择核心场景</option>
                                <!-- 快手全场景 -->
                                <option value="kuaishouAccount">快手账号侵权举报</option>
                                <option value="kuaishouLive">快手直播间违规举报</option>
                                <option value="kuaishouVideo">快手短视频违规举报</option>
                                <option value="kuaishouMessage">快手私信违规举报</option>
                                <!-- QQ全场景 -->
                                <option value="qqAccount">QQ账号侵权举报</option>
                                <option value="qqGroup">QQ群内违规举报</option>
                                <option value="qqMessage">QQ私信违规举报</option>
                                <option value="qqSpace">QQ空间违规举报</option>
                                <!-- 微信全场景 -->
                                <option value="wechatAccount">微信账号侵权举报</option>
                                <option value="wechatGroup">微信群内违规举报</option>
                                <option value="wechatMessage">微信私信违规举报</option>
                                <option value="wechatMoment">微信朋友圈违规举报</option>
                                <option value="wechatOfficial">微信公众号违规举报</option>
                            </select>
                            <div class="scene-tip">选择后自动适配字段，违规类型支持多选（点击切换选中/取消）</div>
                        </div>
                        <!-- 基础信息字段 -->
                        <div class="divider"></div>
                        <h3 style="color:#e53e3e; margin-bottom:1rem; font-size:1.1rem;">基础信息（必填）</h3>
                        <div class="form-group">
                            <label for="reportTitle">举报维权标题（自动生成，可修改）</label>
                            <input type="text" id="reportTitle" placeholder="系统将根据场景自动生成" value="">
                        </div>
                        <div class="form-group">
                            <label for="reporterInfo">举报人/维权方信息</label>
                            <input type="text" id="reporterInfo" placeholder="例如：湖癔科技法务部" required value="湖癔科技法务部">
                        </div>
                        <div class="form-group">
                            <label for="respondentInfo">被举报方/侵权方信息</label>
                            <input type="text" id="respondentInfo" placeholder="例如：快手账号XXX（ID：XXXXXXXX）" required value="快手账号：XX科技（ID：88888888）">
                        </div>
                        <div class="form-group">
                            <label for="reportDate">举报维权日期</label>
                            <input type="text" id="reportDate" placeholder="例如：XXXX年XX月XX日" required value="">
                            <div class="field-desc">默认填充当天日期，可手动修改</div>
                        </div>
                        <div class="form-group">
                            <label for="contactPerson">联系人及联系方式</label>
                            <input type="text" id="contactPerson" placeholder="例如：王律师，电话：13800138000" required value="王律师，电话：13800138000，邮箱：legal@huyikeji.com">
                        </div>
                        <!-- 快手专属字段（新增15类违规类型） -->
                        <div id="kuaishouFields" style="display:none;">
                            <div class="divider"></div>
                            <h3 style="color:#e53e3e; margin-bottom:1rem; font-size:1.1rem;">快手平台核心信息</h3>
                            
                            <div class="form-group">
                                <label for="kuaishouType">违规场景细分</label>
                                <select id="kuaishouType" required>
                                    <option value="accountImpersonate">账号冒充/盗用身份</option>
                                    <option value="liveAbuse">直播间吵架辱骂/人身攻击</option>
                                    <option value="liveFraud">直播间诈骗诱导/虚假宣传</option>
                                    <option value="videoInfringe">短视频侵权（盗用/搬运）</option>
                                    <option value="messageHarass">私信骚扰/威胁/辱骂</option>
                                    <option value="trademarkConfusion">商标/外观混淆误导</option>
                                    <option value="induceReward">诱导打赏/刺激消费</option>
                                    <option value="dataFalsification">数据造假（刷赞/刷粉）</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="kuaishouDetail">快手平台详细信息</label>
                                <input type="text" id="kuaishouDetail" required value="账号昵称：XX科技，快手ID：88888888，直播间ID：99999999">
                            </div>
                            <div class="form-group">
                                <label>违规类型（可多选，覆盖快手官方规则）</label>
                                <div class="tag-group" id="kuaishouViolationTags">
                                    <div class="tag" data-value="吵架辱骂">吵架辱骂</div>
                                    <div class="tag" data-value="造谣诽谤">造谣诽谤</div>
                                    <div class="tag" data-value="诈骗诱导">诈骗诱导</div>
                                    <div class="tag" data-value="账号冒充">账号冒充</div>
                                    <div class="tag" data-value="内容盗用">内容盗用</div>
                                    <div class="tag" data-value="商标混淆">商标/外观混淆</div>
                                    <div class="tag" data-value="诱导打赏">诱导打赏</div>
                                    <div class="tag" data-value="数据造假">刷赞/刷粉/刷评论</div>
                                    <div class="tag" data-value="色情低俗">色情低俗/性暗示</div>
                                    <div class="tag" data-value="暴力恐怖">暴力血腥/恐怖惊悚</div>
                                    <div class="tag" data-value="侵犯隐私">人肉/泄露隐私</div>
                                    <div class="tag" data-value="虚假宣传">商品虚假宣传</div>
                                    <div class="tag" data-value="导流外站">引导跳转外站交易</div>
                                    <div class="tag" data-value="封建迷信">宣扬封建迷信</div>
                                    <div class="tag" data-value="未成年人侵害">危害未成年人</div>
                                </div>
                                <input type="hidden" id="kuaishouViolationType" value="">
                            </div>
                            <div class="form-group">
                                <label for="kuaishouTime">违规时间</label>
                                <input type="text" id="kuaishouTime" required value="2026年01月01日 20:00-21:00">
                            </div>
                            <div class="form-group">
                                <label for="kuaishouViolationDetail">违规描述</label>
                                <textarea id="kuaishouViolationDetail" required>被举报方在快手直播间内使用与我方近似的商标推广商品，虚假宣传"官方授权"，同时辱骂质疑用户，诱导粉丝刷高额礼物，直播间在线500人，造成品牌声誉受损及消费者误解。</textarea>
                            </div>
                            <div class="form-group">
                                <label for="kuaishouEvidence">证据说明</label>
                                <textarea id="kuaishouEvidence" required>1. 直播间录屏（含商标混淆宣传、诱导打赏片段）；2. 违规言论及商品宣传截图15张；3. 我方商标注册证书；4. 粉丝打赏记录截图。</textarea>
                            </div>
                        </div>
                        <!-- QQ专属字段（新增15类违规类型） -->
                        <div id="qqFields" style="display:none;">
                            <div class="divider"></div>
                            <h3 style="color:#e53e3e; margin-bottom:1rem; font-size:1.1rem;">QQ平台核心信息</h3>
                            
                            <div class="form-group">
                                <label for="qqType">违规场景细分</label>
                                <select id="qqType" required>
                                    <option value="groupAbuse">QQ群内吵架辱骂/人身攻击</option>
                                    <option value="accountImpersonate">QQ账号冒充/盗用身份</option>
                                    <option value="messageHarass">QQ私信骚扰/威胁/辱骂</option>
                                    <option value="spaceInfringe">QQ空间内容侵权</option>
                                    <option value="groupFraud">QQ群诈骗/传销裂变</option>
                                    <option value="minorHarm">危害未成年人权益</option>
                                    <option value="privacyLeak">泄露他人隐私/人肉搜索</option>
                                    <option value="pornSpread">传播色情/违禁内容</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="qqDetail">QQ平台详细信息</label>
                                <input type="text" id="qqDetail" required value="QQ号：77777777，昵称：XX科技，QQ群名：XX行业交流群（群号：66666666）">
                            </div>
                            <div class="form-group">
                                <label>违规类型（可多选，覆盖QQ官方规则）</label>
                                <div class="tag-group" id="qqViolationTags">
                                    <div class="tag" data-value="吵架辱骂">吵架辱骂</div>
                                    <div class="tag" data-value="造谣诽谤">造谣诽谤</div>
                                    <div class="tag" data-value="广告骚扰">广告刷屏/骚扰</div>
                                    <div class="tag" data-value="账号冒充">账号冒充</div>
                                    <div class="tag" data-value="内容盗用">内容盗用</div>
                                    <div class="tag" data-value="诈骗传销">诈骗/传销裂变</div>
                                    <div class="tag" data-value="色情传播">传播色情内容</div>
                                    <div class="tag" data-value="泄露隐私">泄露个人隐私</div>
                                    <div class="tag" data-value="赌博涉毒">赌博/涉毒信息</div>
                                    <div class="tag" data-value="暴力欺凌">校园欺凌/暴力威胁</div>
                                    <div class="tag" data-value="封建迷信">宣扬封建迷信</div>
                                    <div class="tag" data-value="未成年人侵害">危害未成年人</div>
                                    <div class="tag" data-value="虚假中奖">虚假中奖/钓鱼链接</div>
                                    <div class="tag" data-value="外挂传播">传播游戏外挂</div>
                                    <div class="tag" data-value="违禁交易">交易违禁品</div>
                                </div>
                                <input type="hidden" id="qqViolationType" value="">
                            </div>
                            <div class="form-group">
                                <label for="qqTime">违规时间</label>
                                <input type="text" id="qqTime" required value="2026年01月01日 15:00-16:00">
                            </div>
                            <div class="form-group">
                                <label for="qqViolationDetail">违规描述</label>
                                <textarea id="qqViolationDetail" required>被举报方在QQ群内冒充我方工作人员，发布虚假中奖信息诱导群成员添加私信，同时传播涉未成年人低俗内容，组织多层裂变营销，引发30余人受骗投诉，扰乱群内秩序。</textarea>
                            </div>
                            <div class="form-group">
                                <label for="qqEvidence">证据说明</label>
                                <textarea id="qqEvidence" required>1. QQ群聊天截图20张；2. 虚假中奖信息截图；3. 涉低俗内容截图；4. 群成员受骗证言5份；5. 裂变营销话术截图。</textarea>
                            </div>
                        </div>
                        <!-- 微信专属字段（新增15类违规类型） -->
                        <div id="wechatFields" style="display:none;">
                            <div class="divider"></div>
                            <h3 style="color:#e53e3e; margin-bottom:1rem; font-size:1.1rem;">微信平台核心信息</h3>
                            
                            <div class="form-group">
                                <label for="wechatType">违规场景细分</label>
                                <select id="wechatType" required>
                                    <option value="groupAbuse">微信群内吵架辱骂/人身攻击</option>
                                    <option value="accountImpersonate">微信账号冒充/盗用身份</option>
                                    <option value="messageHarass">微信私信骚扰/威胁/辱骂</option>
                                    <option value="momentInfringe">朋友圈内容侵权</option>
                                    <option value="officialInfringe">公众号侵权/虚假宣传</option>
                                    <option value="induceShare">诱导分享/集赞</option>
                                    <option value="brushFans">刷粉买粉/数据造假</option>
                                    <option value="pyramidSelling">传销/多层分销</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="wechatDetail">微信平台详细信息</label>
                                <input type="text" id="wechatDetail" required value="微信号：wechat123456，昵称：XX科技，微信群名：XX业务交流群，公众号名称：XX科技服务号">
                            </div>
                            <div class="form-group">
                                <label>违规类型（可多选，覆盖微信官方规则）</label>
                                <div class="tag-group" id="wechatViolationTags">
                                    <div class="tag" data-value="吵架辱骂">吵架辱骂</div>
                                    <div class="tag" data-value="造谣诽谤">造谣诽谤</div>
                                    <div class="tag" data-value="广告骚扰">广告刷屏/骚扰</div>
                                    <div class="tag" data-value="账号冒充">账号冒充</div>
                                    <div class="tag" data-value="内容盗用">内容盗用</div>
                                    <div class="tag" data-value="诱导分享">诱导分享/集赞</div>
                                    <div class="tag" data-value="刷粉买粉">刷粉/买粉/数据造假</div>
                                    <div class="tag" data-value="传销分销">传销/多层分销</div>
                                    <div class="tag" data-value="色情低俗">色情低俗/性暗示</div>
                                    <div class="tag" data-value="侵犯隐私">泄露他人隐私</div>
                                    <div class="tag" data-value="虚假人设">编造虚假人设炒作</div>
                                    <div class="tag" data-value="虚假宣传">商品虚假宣传</div>
                                    <div class="tag" data-value="钓鱼诈骗">钓鱼链接/诈骗</div>
                                    <div class="tag" data-value="违禁交易">交易违禁品</div>
                                    <div class="tag" data-value="恶意蹭热度">恶意蹭热点/消费灾情</div>
                                </div>
                                <input type="hidden" id="wechatViolationType" value="">
                            </div>
                            <div class="form-group">
                                <label for="wechatTime">违规时间</label>
                                <input type="text" id="wechatTime" required value="2026年01月01日 10:00-11:00">
                            </div>
                            <div class="form-group">
                                <label for="wechatViolationDetail">违规描述</label>
                                <textarea id="wechatViolationDetail" required>被举报方微信公众号盗用我方原创文章，编造"官方合作"虚假人设，在微信群内诱导用户分享集赞参与虚假抽奖，同时发布夸大功效的商品宣传，引发50余人投诉，严重侵犯我方知识产权及消费者权益。</textarea>
                            </div>
                            <div class="form-group">
                                <label for="wechatEvidence">证据说明</label>
                                <textarea id="wechatEvidence" required>1. 公众号侵权文章截图；2. 虚假人设宣传截图；3. 诱导分享话术截图；4. 商品虚假宣传截图；5. 我方原创文章著作权证明；6. 消费者投诉记录。</textarea>
                            </div>
                        </div>
                        <!-- 维权核心诉求 -->
                        <div class="divider"></div>
                        <h3 style="color:#e53e3e; margin-bottom:1rem; font-size:1.1rem;">维权核心诉求</h3>
                        <div class="form-group">
                            <label for="coreDemand">核心维权诉求</label>
                            <textarea id="coreDemand" required>1. 立即停止违规行为（删除侵权内容/停止虚假宣传）；2. 在对应平台公开道歉并保留72小时；3. 赔偿经济损失10万元；4. 平台对账号采取封号/限制功能处罚；5. 向我方提交违规整改报告。</textarea>
                        </div>
                        <div class="form-group">
                            <label for="legalBasis">法律依据</label>
                            <textarea id="legalBasis" required>《中华人民共和国民法典》第一千零二十四条（名誉权）、第一千一百九十四条（网络侵权）、《中华人民共和国广告法》第二十八条（虚假宣传）、《治安管理处罚法》第四十二条（侮辱诽谤）。</textarea>
                        </div>
                        <div class="form-group">
                            <label for="processingPeriod">要求处理期限</label>
                            <input type="text" id="processingPeriod" required value="收到本通知后7个工作日内">
                        </div>
                        <!-- 补充条款 -->
                        <div class="divider"></div>
                        <h3 style="color:#e53e3e; margin-bottom:1rem; font-size:1.1rem;">补充信息</h3>
                        <div class="form-group">
                            <label for="additionalClause">补充条款</label>
                            <textarea id="additionalClause">逾期未处理将向网信部门投诉、向法院提起民事诉讼，并保留追究平台连带责任的权利，维权成本由对方全额承担。</textarea>
                        </div>
                        <button type="button" id="previewBtn" class="btn btn-preview">预览通知</button>
                        <button type="button" id="generateBtn" class="btn">生成举报维权通知</button>
                        <button type="button" class="btn btn-collect" id="collectBtn">收藏模板</button>
                        <button type="button" class="btn btn-clear" id="clearBtn">一键清空</button>
                        <div class="storage-tip">所有字段已预填，可直接点击生成 | 违规类型支持任意多选（15类全覆盖）| 自动保存表单数据，刷新不丢失</div>
                    </form>
                </div>
            </div>
            <!-- 结果面板 -->
            <div class="result-panel">
                <div class="panel">
                    <div class="result-header">
                        <h2>湖癔科技举报维权通知（可直接使用）</h2>
                        <div class="result-actions">
                            <button class="action-btn" id="copyBtn">复制全文</button>
                            <select class="export-select" id="exportType">
                                <option value="txt">导出为TXT</option>
                                <option value="word">导出为Word</option>
                                <option value="pdf">导出为PDF</option>
                            </select>
                            <button class="action-btn" id="downloadBtn">确认导出</button>
                            <button class="action-btn" id="editBtn">编辑内容</button>
                            <button class="action-btn" id="saveBtn" style="display:none;">保存修改</button>
                        </div>
                    </div>
                    <div class="notice-content" id="reportContent" contenteditable="false">
                        请选择举报维权场景，点击"生成举报维权通知"按钮获取完整内容...
                    </div>
                </div>
            </div>
        </div>
        <div class="footer">
            湖癔科技 © 2026 | 重大维权建议咨询专业律师审核
        </div>
    </div>
    <script>
        // 核心DOM元素获取
        const reportScene = document.getElementById('reportScene');
        const generateBtn = document.getElementById('generateBtn');
        const previewBtn = document.getElementById('previewBtn');
        const collectBtn = document.getElementById('collectBtn');
        const reportContent = document.getElementById('reportContent');
        const copyBtn = document.getElementById('copyBtn');
        const downloadBtn = document.getElementById('downloadBtn');
        const exportType = document.getElementById('exportType');
        const clearBtn = document.getElementById('clearBtn');
        const editBtn = document.getElementById('editBtn');
        const saveBtn = document.getElementById('saveBtn');
        // 场景字段容器
        const kuaishouFields = document.getElementById('kuaishouFields');
        const qqFields = document.getElementById('qqFields');
        const wechatFields = document.getElementById('wechatFields');
        // 基础信息字段
        const reporterInfo = document.getElementById('reporterInfo');
        const respondentInfo = document.getElementById('respondentInfo');
        const reportDate = document.getElementById('reportDate');
        const contactPerson = document.getElementById('contactPerson');
        const coreDemand = document.getElementById('coreDemand');
        const legalBasis = document.getElementById('legalBasis');
        const processingPeriod = document.getElementById('processingPeriod');
        const additionalClause = document.getElementById('additionalClause');
        const reportTitle = document.getElementById('reportTitle');
        // 快手字段
        const kuaishouType = document.getElementById('kuaishouType');
        const kuaishouDetail = document.getElementById('kuaishouDetail');
        const kuaishouViolationTags = document.getElementById('kuaishouViolationTags');
        const kuaishouViolationType = document.getElementById('kuaishouViolationType');
        const kuaishouTime = document.getElementById('kuaishouTime');
        const kuaishouViolationDetail = document.getElementById('kuaishouViolationDetail');
        const kuaishouEvidence = document.getElementById('kuaishouEvidence');
        // QQ字段
        const qqType = document.getElementById('qqType');
        const qqDetail = document.getElementById('qqDetail');
        const qqViolationTags = document.getElementById('qqViolationTags');
        const qqViolationType = document.getElementById('qqViolationType');
        const qqTime = document.getElementById('qqTime');
        const qqViolationDetail = document.getElementById('qqViolationDetail');
        const qqEvidence = document.getElementById('qqEvidence');
        // 微信字段
        const wechatType = document.getElementById('wechatType');
        const wechatDetail = document.getElementById('wechatDetail');
        const wechatViolationTags = document.getElementById('wechatViolationTags');
        const wechatViolationType = document.getElementById('wechatViolationType');
        const wechatTime = document.getElementById('wechatTime');
        const wechatViolationDetail = document.getElementById('wechatViolationDetail');
        const wechatEvidence = document.getElementById('wechatEvidence');
        // 初始化日期为当天
        window.onload = function() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const day = String(today.getDate()).padStart(2, '0');
            reportDate.value = `${year}年${month}月${day}日`;
            
            // 默认选中场景并触发显示
            reportScene.value = 'kuaishouAccount';
            reportScene.onchange();
            
            // 加载本地存储的表单数据和收藏模板
            loadStoredData();
            
            // 默认选中3个高频违规类型
            kuaishouViolationTags.querySelectorAll('.tag')[0].click();
            kuaishouViolationTags.querySelectorAll('.tag')[1].click();
            kuaishouViolationTags.querySelectorAll('.tag')[5].click();
        };
        // 标签多选初始化（支持任意数量选中）
        function initTags(tagContainer, hiddenInput) {
            const tags = tagContainer.querySelectorAll('.tag');
            tags.forEach(tag => {
                tag.onclick = function() {
                    this.classList.toggle('active');
                    const selected = [];
                    tagContainer.querySelectorAll('.tag.active').forEach(t => selected.push(t.dataset.value));
                    hiddenInput.value = selected.join('、') || '其他违规';
                    saveFormData(); // 选中变化时保存
                };
            });
        }
        // 法律依据自动生成函数
        function getLegalBasis(scene) {
            const platform = scene.includes('kuaishou') ? '快手' : scene.includes('qq') ? 'QQ' : '微信';
            const platformRule = {
                'kuaishou': '《快手社区管理规定》第12条（账号冒充）、第15条（虚假宣传）、第20条（辱骂骚扰）、第25条（侵权内容）',
                'qq': '《QQ社区管理规范》第10条（账号冒充）、第13条（诈骗诱导）、第18条（低俗内容）、第22条（侵权处理）',
                'wechat': '《微信公众平台运营规范》第7条（侵权内容）、第10条（虚假宣传）、《微信个人账号使用规范》第12条（骚扰行为）、第15条（侵权处理）'
            };
            const nationalLaw = '《中华人民共和国民法典》第一千零一十四条（姓名权/名称权）、第一千一百九十四条（网络侵权）、第一千一百九十五条（网络服务提供者责任）、《中华人民共和国广告法》第二十八条（虚假宣传）、《治安管理处罚法》第四十二条（侮辱诽谤）、《著作权法》第五十二条（侵权责任）';
            return `${platformRule[platform]}及${nationalLaw}`;
        }
        // 场景切换逻辑
        reportScene.onchange = function() {
            // 隐藏所有场景字段
            kuaishouFields.style.display = 'none';
            qqFields.style.display = 'none';
            wechatFields.style.display = 'none';
            // 显示对应场景字段并初始化标签
            if (this.value.startsWith('kuaishou')) {
                kuaishouFields.style.display = 'block';
                initTags(kuaishouViolationTags, kuaishouViolationType);
                // 更新被举报方默认值
                respondentInfo.value = '快手账号：XX科技（ID：88888888）';
                // 更新法律依据
                legalBasis.value = getLegalBasis(this.value);
            } else if (this.value.startsWith('qq')) {
                qqFields.style.display = 'block';
                initTags(qqViolationTags, qqViolationType);
                // 更新被举报方默认值
                respondentInfo.value = 'QQ账号：XX科技（QQ号：77777777）';
                // 更新法律依据
                legalBasis.value = getLegalBasis(this.value);
            } else if (this.value.startsWith('wechat')) {
                wechatFields.style.display = 'block';
                initTags(wechatViolationTags, wechatViolationType);
                // 更新被举报方默认值
                respondentInfo.value = '微信账号：XX科技（微信号：wechat123456）';
                // 更新法律依据
                legalBasis.value = getLegalBasis(this.value);
            }
            // 自动生成标题
            reportTitle.value = `关于举报${respondentInfo.value.split('（')[0]}${this.value.includes('kuaishou') ? '快手' : this.value.includes('qq') ? 'QQ' : '微信'}违规行为的维权通知`;
            saveFormData(); // 场景切换时保存
        };
        // 生成通知核心逻辑
        function generateNotice(isPreview = false) {
            try {
                const scene = reportScene.value;
                let platform = '';
                let platformData = {};
                // 验证场景选择
                if (!scene) {
                    alert('❌ 请选择举报维权场景！');
                    return;
                }
                // 验证基础信息
                if (!reporterInfo.value.trim()) {
                    alert('❌ 请填写举报人/维权方信息！');
                    reporterInfo.focus();
                    return;
                }
                if (!respondentInfo.value.trim()) {
                    alert('❌ 请填写被举报方/侵权方信息！');
                    respondentInfo.focus();
                    return;
                }
                if (!reportDate.value.trim()) {
                    alert('❌ 请填写举报日期！');
                    reportDate.focus();
                    return;
                }
                if (!contactPerson.value.trim()) {
                    alert('❌ 请填写联系人及联系方式！');
                    contactPerson.focus();
                    return;
                }
                // 收集对应平台数据（含新增违规类型）
                if (scene.startsWith('kuaishou')) {
                    platform = '快手';
                    if (!kuaishouViolationType.value) {
                        alert('❌ 请选择快手违规类型（可多选）！');
                        return;
                    }
                    platformData = {
                        type: kuaishouType.value,
                        detail: kuaishouDetail.value,
                        violation: kuaishouViolationType.value,
                        time: kuaishouTime.value,
                        desc: kuaishouViolationDetail.value,
                        evidence: kuaishouEvidence.value
                    };
                } else if (scene.startsWith('qq')) {
                    platform = 'QQ';
                    if (!qqViolationType.value) {
                        alert('❌ 请选择QQ违规类型（可多选）！');
                        return;
                    }
                    platformData = {
                        type: qqType.value,
                        detail: qqDetail.value,
                        violation: qqViolationType.value,
                        time: qqTime.value,
                        desc: qqViolationDetail.value,
                        evidence: qqEvidence.value
                    };
                } else if (scene.startsWith('wechat')) {
                    platform = '微信';
                    if (!wechatViolationType.value) {
                        alert('❌ 请选择微信违规类型（可多选）！');
                        return;
                    }
                    platformData = {
                        type: wechatType.value,
                        detail: wechatDetail.value,
                        violation: wechatViolationType.value,
                        time: wechatTime.value,
                        desc: wechatViolationDetail.value,
                        evidence: wechatEvidence.value
                    };
                }
                // 生成完整通知内容
                const noticeText = `
关于举报${respondentInfo.value}${platform}违规行为的维权通知
致：${respondentInfo.value}（${platform}平台管理方/被举报方）
举报人/维权方：${reporterInfo.value}
现就你方在${platform}平台实施的违规行为，正式发出如下维权通知：
一、违规基本信息
1. 平台详细信息：${platformData.detail}
2. 违规场景：${platformData.type}
3. 违规类型：${platformData.violation}
4. 发生时间：${platformData.time}
二、违规行为描述
${platformData.desc}
三、证据材料说明
我方已固定完整证据，包括：
${platformData.evidence}
所有证据真实合法，可作为维权依据。
四、法律依据
根据《${legalBasis.value}》等规定，你方行为已构成侵权/违规，应承担相应法律责任。
五、我方核心诉求
请你方在${processingPeriod.value}内完成以下事项：
${coreDemand.value}
六、补充说明
${additionalClause.value}
若逾期未处理，我方将采取向监管部门投诉、提起民事诉讼等合法途径进一步维权，届时产生的一切法律责任及维权成本均由你方承担。
特此通知！
举报人/维权方：${reporterInfo.value}
${reportDate.value}
联系人：${contactPerson.value}
`;
                // 渲染结果并提示
                reportContent.textContent = noticeText;
                if (isPreview) {
                    alert(`✅ ${platform}平台举报维权通知预览版生成成功！可查看大致效果`);
                } else {
                    alert(`✅ ${platform}平台举报维权通知生成成功！已包含选中的${platformData.violation.split('、').length}类违规类型`);
                }
                saveFormData(); // 生成后保存
            } catch (err) {
                console.error('生成错误：', err);
                alert(`❌ 生成失败！错误信息：${err.message}`);
                reportContent.textContent = '生成失败，请重试（可检查是否有未填写的必填项）...';
            }
        }
        // 生成按钮事件
        generateBtn.onclick = function() {
            generateNotice(false);
        };
        // 预览按钮事件
        previewBtn.onclick = function() {
            generateNotice(true);
        };
        // 编辑功能
        editBtn.onclick = function() {
            if (reportContent.textContent.includes('请选择')) {
                alert('❌ 请先生成或预览通知再编辑！');
                return;
            }
            reportContent.contentEditable = true;
            reportContent.focus();
            editBtn.style.display = 'none';
            saveBtn.style.display = 'inline-block';
            alert('✅ 进入编辑模式，修改后点击"保存修改"即可生效');
        };
        // 保存修改功能
        saveBtn.onclick = function() {
            reportContent.contentEditable = false;
            saveBtn.style.display = 'none';
            editBtn.style.display = 'inline-block';
            alert('✅ 修改已保存！可直接复制或导出');
            saveFormData(); // 保存修改内容
        };
        // 复制功能
        copyBtn.onclick = function() {
            if (reportContent.textContent.includes('请选择')) {
                alert('❌ 请先生成通知！');
                return;
            }
            navigator.clipboard.writeText(reportContent.textContent).then(() => {
                alert('✅ 已复制到剪贴板！');
            }).catch(() => {
                alert('❌ 复制失败，请手动复制！');
            });
        };
        // 导出功能
        downloadBtn.onclick = function() {
            if (reportContent.textContent.includes('请选择')) {
                alert('❌ 请先生成通知！');
                return;
            }
            const type = exportType.value;
            const platform = reportScene.value.includes('kuaishou') ? '快手' : reportScene.value.includes('qq') ? 'QQ' : '微信';
            const content = reportContent.textContent;
            const blob = new Blob([content], { type: type === 'txt' ? 'text/plain' : type === 'word' ? 'application/msword' : 'application/pdf' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `${platform}举报维权通知_${new Date().toLocaleDateString()}.${type}`;
            a.click();
            alert(`✅ 导出成功！文件已保存至下载文件夹`);
        };
        // 清空功能
        clearBtn.onclick = function() {
            if (confirm('确定清空所有内容？')) {
                document.getElementById('reportForm').reset();
                reportContent.textContent = '请选择举报维权场景，点击"生成举报维权通知"按钮获取完整内容...';
                // 恢复默认值
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0');
                const day = String(today.getDate()).padStart(2, '0');
                reportDate.value = `${year}年${month}月${day}日`;
                reporterInfo.value = '湖癔科技法务部';
                const platform = reportScene.value.includes('kuaishou') ? '快手' : reportScene.value.includes('qq') ? 'QQ' : '微信';
                respondentInfo.value = `${platform}账号：XX科技（${platform === '快手' ? 'ID：88888888' : platform === 'QQ' ? 'QQ号：77777777' : '微信号：wechat123456'}`;
                contactPerson.value = '王律师，电话：13800138000，邮箱：legal@huyikeji.com';
                coreDemand.value = '1. 立即停止违规行为（删除侵权内容/停止虚假宣传）；2. 在对应平台公开道歉并保留72小时；3. 赔偿经济损失10万元；4. 平台对账号采取封号/限制功能处罚；5. 向我方提交违规整改报告。';
                legalBasis.value = getLegalBasis(reportScene.value);
                processingPeriod.value = '收到本通知后7个工作日内';
                additionalClause.value = '逾期未处理将向网信部门投诉、向法院提起民事诉讼，并保留追究平台连带责任的权利，维权成本由对方全额承担。';
                // 重新初始化标签
                reportScene.onchange();
                alert('✅ 已清空！');
                saveFormData();
            }
        };
        // 收藏模板功能
        collectBtn.onclick = function() {
            const scene = reportScene.value;
            if (!scene) {
                alert('❌ 请选择举报维权场景后再收藏！');
                return;
            }
            const platform = scene.includes('kuaishou') ? '快手' : scene.includes('qq') ? 'QQ' : '微信';
            const templateName = prompt('请输入模板名称（便于后续查找）：', `${platform}${reportTitle.value}`);
            if (!templateName) return;
            const templateData = {
                name: templateName,
                               scene: scene,
                data: {
                    reportTitle: reportTitle.value,
                    reporterInfo: reporterInfo.value,
                    respondentInfo: respondentInfo.value,
                    reportDate: reportDate.value,
                    contactPerson: contactPerson.value,
                    coreDemand: coreDemand.value,
                    legalBasis: legalBasis.value,
                    processingPeriod: processingPeriod.value,
                    additionalClause: additionalClause.value,
                    // 快手数据
                    kuaishouType: kuaishouType?.value,
                    kuaishouDetail: kuaishouDetail?.value,
                    kuaishouViolationType: kuaishouViolationType?.value,
                    kuaishouTime: kuaishouTime?.value,
                    kuaishouViolationDetail: kuaishouViolationDetail?.value,
                    kuaishouEvidence: kuaishouEvidence?.value,
                    // QQ数据
                    qqType: qqType?.value,
                    qqDetail: qqDetail?.value,
                    qqViolationType: qqViolationType?.value,
                    qqTime: qqTime?.value,
                    qqViolationDetail: qqViolationDetail?.value,
                    qqEvidence: qqEvidence?.value,
                    // 微信数据
                    wechatType: wechatType?.value,
                    wechatDetail: wechatDetail?.value,
                    wechatViolationType: wechatViolationType?.value,
                    wechatTime: wechatTime?.value,
                    wechatViolationDetail: wechatViolationDetail?.value,
                    wechatEvidence: wechatEvidence?.value,
                    // 生成的内容
                    reportContent: reportContent.textContent
                }
            };
            // 获取已收藏模板
            const collectedTemplates = JSON.parse(localStorage.getItem('huyiReportCollectedTemplates') || '[]');
            collectedTemplates.push(templateData);
            localStorage.setItem('huyiReportCollectedTemplates', JSON.stringify(collectedTemplates));
            alert(`✅ 模板收藏成功！名称：${templateName}`);
        };
        // 保存表单数据到本地存储
        function saveFormData() {
            const formData = {
                scene: reportScene.value,
                reportTitle: reportTitle.value,
                reporterInfo: reporterInfo.value,
                respondentInfo: respondentInfo.value,
                reportDate: reportDate.value,
                contactPerson: contactPerson.value,
                coreDemand: coreDemand.value,
                legalBasis: legalBasis.value,
                processingPeriod: processingPeriod.value,
                additionalClause: additionalClause.value,
                // 快手数据
                kuaishouType: kuaishouType?.value,
                kuaishouDetail: kuaishouDetail?.value,
                kuaishouViolationType: kuaishouViolationType?.value,
                kuaishouTime: kuaishouTime?.value,
                kuaishouViolationDetail: kuaishouViolationDetail?.value,
                kuaishouEvidence: kuaishouEvidence?.value,
                // QQ数据
                qqType: qqType?.value,
                qqDetail: qqDetail?.value,
                qqViolationType: qqViolationType?.value,
                qqTime: qqTime?.value,
                qqViolationDetail: qqViolationDetail?.value,
                qqEvidence: qqEvidence?.value,
                // 微信数据
                wechatType: wechatType?.value,
                wechatDetail: wechatDetail?.value,
                wechatViolationType: wechatViolationType?.value,
                wechatTime: wechatTime?.value,
                wechatViolationDetail: wechatViolationDetail?.value,
                wechatEvidence: wechatEvidence?.value,
                // 生成的内容
                reportContent: reportContent.textContent
            };
            localStorage.setItem('huyiReportFormData', JSON.stringify(formData));
        }
        // 加载本地存储的表单数据
        function loadStoredData() {
            const storedData = localStorage.getItem('huyiReportFormData');
            if (storedData) {
                const formData = JSON.parse(storedData);
                // 恢复场景
                reportScene.value = formData.scene;
                // 恢复基础信息
                reportTitle.value = formData.reportTitle || '';
                reporterInfo.value = formData.reporterInfo || '湖癔科技法务部';
                respondentInfo.value = formData.respondentInfo || '快手账号：XX科技（ID：88888888）';
                reportDate.value = formData.reportDate || '';
                contactPerson.value = formData.contactPerson || '王律师，电话：13800138000，邮箱：legal@huyikeji.com';
                coreDemand.value = formData.coreDemand || '';
                legalBasis.value = formData.legalBasis || getLegalBasis(formData.scene);
                processingPeriod.value = formData.processingPeriod || '收到本通知后7个工作日内';
                additionalClause.value = formData.additionalClause || '';
                // 恢复快手数据
                if (kuaishouType) kuaishouType.value = formData.kuaishouType || '';
                if (kuaishouDetail) kuaishouDetail.value = formData.kuaishouDetail || '';
                if (kuaishouViolationType) kuaishouViolationType.value = formData.kuaishouViolationType || '';
                if (kuaishouTime) kuaishouTime.value = formData.kuaishouTime || '';
                if (kuaishouViolationDetail) kuaishouViolationDetail.value = formData.kuaishouViolationDetail || '';
                if (kuaishouEvidence) kuaishouEvidence.value = formData.kuaishouEvidence || '';
                // 恢复QQ数据
                if (qqType) qqType.value = formData.qqType || '';
                if (qqDetail) qqDetail.value = formData.qqDetail || '';
                if (qqViolationType) qqViolationType.value = formData.qqViolationType || '';
                if (qqTime) qqTime.value = formData.qqTime || '';
                if (qqViolationDetail) qqViolationDetail.value = formData.qqViolationDetail || '';
                if (qqEvidence) qqEvidence.value = formData.qqEvidence || '';
                // 恢复微信数据
                if (wechatType) wechatType.value = formData.wechatType || '';
                if (wechatDetail) wechatDetail.value = formData.wechatDetail || '';
                if (wechatViolationType) wechatViolationType.value = formData.wechatViolationType || '';
                if (wechatTime) wechatTime.value = formData.wechatTime || '';
                if (wechatViolationDetail) wechatViolationDetail.value = formData.wechatViolationDetail || '';
                if (wechatEvidence) wechatEvidence.value = formData.wechatEvidence || '';
                // 恢复生成的内容
                if (formData.reportContent) {
                    reportContent.textContent = formData.reportContent;
                }
                // 触发场景显示
                reportScene.onchange();
            }
        }
        // 监听表单字段变化，实时保存数据
        const formFields = [
            reportScene, reportTitle, reporterInfo, respondentInfo, reportDate, contactPerson,
            coreDemand, legalBasis, processingPeriod, additionalClause,
            kuaishouType, kuaishouDetail, kuaishouTime, kuaishouViolationDetail, kuaishouEvidence,
            qqType, qqDetail, qqTime, qqViolationDetail, qqEvidence,
            wechatType, wechatDetail, wechatTime, wechatViolationDetail, wechatEvidence
        ];
        formFields.forEach(field => {
            if (field) {
                field.addEventListener('input', saveFormData);
            }
        });
    </script>
</body>
</html>
